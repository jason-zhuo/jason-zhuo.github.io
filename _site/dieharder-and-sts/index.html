
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
  <head>
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="" />
    <title>Dieharder and STS</title>
    <meta name="name" content="Jaosonzhuo's blog" />
    <meta name="description" content="Dieharder and STS" />
    <meta name="keywords" content= "encrypted flow" />
    <meta name="ujianVerification" content="109d1a9f6085ee6606156bc3aa65a955" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link href="/feed/" rel="alternate" title="" type="application/atom+xml" />
    <link rel="stylesheet" href="/media/css/mystyle.css" />
    <script src="http://libs.baidu.com/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
    

  </head>
  <body>
    <div id="container">

    <aside id="sidebar" class="alignleft">
        <div class="navigationBar">
            <a href="/">Jasonzhuo's Blog</a>
        </div>

        <nav class="widget" id="menu">
            <ul>
              <li class="cell"><a class="next" href="/">Home</a></li>
              <li class="cell"><a class="next" href="/categories/">Archives</a></li>
              <li class="cell"><a class="next" href="/search/">Search</a></li>
              <li class="cell"><a class="next" href="/feed.xml">RSS</a></li>
            </ul>
        </nav>

        <div class="widget weibo">
            <iframe width="100%" height="120" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=120&fansRow=2&ptype=1&speed=0&skin=7&isTitle=1&noborder=0&isWeibo=0&isFans=0&uid=2385225700&verifier=0cad5c7b&dpc=1"></iframe>  
        </div>


        <div class="widget gostats">
            <h3 class="title"><B>Vistor Statistics</B></h3>

            <div class="entry">
<!-- GoStats Simple HTML Based Code -->
<a target="_blank" title="访客计数器" href="http://gostats.cn"><img alt="访客计数器" 
src="http://c5.gostats.cn/bin/count/a_1066403/t_4/i_102/z_1/show_visitors/counter.png" 
style="border-width:0" /></a>
<!-- End GoStats Simple HTML Based Code -->
            </div>
        </div>

        <!-- <table class="widget ad" border="">
            <tbody>
                <tr>
                    <td class="icon">
                        <a href="/evermark"><img src="http://esoftmobile.com//evermark/icon.png"></a>                  
                    </td>
                    <td class="title">
                        <a href="/evermark">Evermark</a>
                    </td>
                    <td class="button">
                        <a target="_blank" href="https://itunes.apple.com/cn/app/evermark/id728159144?mt=8">下载</a>
                    </td>
                </tr>
            </tbody>
        </table>  -->

        <div class="widget tagcloud">
            <h3 class="title"><B>Useful Tags</B></h3>
            <div class="entry">
                <div id='tag_cloud'>
                    
                    <a href="/tags/#Hello world" title="Hello world" rel="1">Hello world</a>
                    
                    <a href="/tags/#Linux" title="Linux" rel="1">Linux</a>
                    
                    <a href="/tags/#Bash" title="Bash" rel="1">Bash</a>
                    
                    <a href="/tags/#Matlab" title="Matlab" rel="1">Matlab</a>
                    
                    <a href="/tags/#Bigdata" title="Bigdata" rel="1">Bigdata</a>
                    
                    <a href="/tags/#Math equation" title="Math equation" rel="1">Math equation</a>
                    
                    <a href="/tags/#Big data" title="Big data" rel="1">Big data</a>
                    
                    <a href="/tags/#SRM" title="SRM" rel="1">SRM</a>
                    
                    <a href="/tags/#Machine learning" title="Machine learning" rel="2">Machine learning</a>
                    
                    <a href="/tags/#Botnet" title="Botnet" rel="2">Botnet</a>
                    
                    <a href="/tags/#fast flux" title="fast flux" rel="1">fast flux</a>
                    
                    <a href="/tags/#Proxy，Shadowsocks" title="Proxy，Shadowsocks" rel="1">Proxy，Shadowsocks</a>
                    
                    <a href="/tags/#encrypted flow" title="encrypted flow" rel="2">encrypted flow</a>
                    
                    <a href="/tags/#SDN" title="SDN" rel="1">SDN</a>
                    
                    <a href="/tags/#Random forest" title="Random forest" rel="1">Random forest</a>
                    
                    <a href="/tags/#clustering" title="clustering" rel="1">clustering</a>
                    
                    <a href="/tags/#Crawler" title="Crawler" rel="1">Crawler</a>
                    
                    <a href="/tags/#Java" title="Java" rel="1">Java</a>
                    
                    <a href="/tags/#Network" title="Network" rel="1">Network</a>
                    
                    <a href="/tags/#Tor" title="Tor" rel="1">Tor</a>
                    
                    <a href="/tags/#Go" title="Go" rel="1">Go</a>
                    
                    <a href="/tags/#Docker" title="Docker" rel="1">Docker</a>
                    
                    <a href="/tags/#Deep Learning" title="Deep Learning" rel="1">Deep Learning</a>
                    
                    <a href="/tags/#Malware" title="Malware" rel="1">Malware</a>
                    
                    <a href="/tags/#IP traceback" title="IP traceback" rel="1">IP traceback</a>
                    
                    <a href="/tags/#flow hashing" title="flow hashing" rel="1">flow hashing</a>
                    
                    <a href="/tags/#Trouble Shooting" title="Trouble Shooting" rel="1">Trouble Shooting</a>
                    
                </div>
            </div>

            <script src="/media/js/jquery.tagcloud.js" type="text/javascript" charset="utf-8"></script> 
            <script language="javascript">
            $.fn.tagcloud.defaults = {
                size: {start: 1, end: 2, unit: 'em'}
            };

            $(function () {
                $('#tag_cloud a').tagcloud();
            });
            </script>
        </div>

        <footer id="footer" class="inner">
            <div class="copyright">
            <a href="http://jekyllrb.com" target="_blank">Jekyll</a> @ <a href="https://github.com/jason-zhuo" target="_blank" title="项目主页">GitHub</a>
             | <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/cn/" target="_blank" title="许可协议">©</a> 2017 <a href="/about/"></a>
             </div>
             <!-- <div class="copyright">
                <script type="text/javascript">var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fcbf651a0c9c199e73857441cc83b3884' type='text/javascript'%3E%3C/script%3E"));
                </script>
             </div> -->
        </footer>

    </aside>

    <div id="hidden-navigationBar" class="navigationBar">
      <a href="/">Jasonzhuo's Blog</a>
    </div>

    <div id="main-col" class="alignright">
        <div id="wrapper">   
    
         <article class="post">
<div class="post-content">




<header>
    <h1 class="title">Dieharder and STS</h1>
    <section class="meta">
<span class="time">
  <time datetime="2015-10-10">2015-10-10</time>
</span>

 | 
<span class="categories">
  分类
  
  <a href="/categories/#Infosec" title="Infosec">Infosec</a>&nbsp;
  
</span>


 | 
<span class="tags">
  标签
  
  <a href="/tags/#encrypted flow" title="encrypted flow">encrypted flow</a>&nbsp;
  
</span>


</section>    
</header>

<div class="entry">

  <h3>Random or not? Dieharder and STS</h3>

<p><img src="http://i.stack.imgur.com/12L2d.gif" alt="image" />
Dieharder以及STS 套件使用 coauthored by Zihao Li, Jason Zhuo</p>

<!-- more -->


<h3>1. 介绍</h3>

<p>Dieharder是一个功能强大的软件，它是用来测试一序列伪随机数的随机性能的测试套件。
Dieharder主要测试rng（随机数产生器）的性能，它里面整合了一部分随机数产生器。其大致原理还是对随机数序列进行测试，但是其过程是先选中发生器，然后由发生器产生一序列的随机数，最后对发生器进行评估。不过Dieharder允许产生器产生较大的随机数序列。Dieharder在第三版中增添了<strong>全套</strong>的sts对于随机数测试的逻辑，但是并没有使用其源代码。基本操作方面，Dieharder网页上面的介绍只提及了如何测试内置发生器性能的操作，对于其他并没有过多提及。基本操作比较简洁，但是不是特别友好，需要输入的命令必须要特别熟悉才能够在不打开操作列表（dieharder -l）和内置发生器列表(dieharder -g -1)，同时操作时命令行的格式并没有规定，不确定要如何输入，相关操作方面还在摸索。（如-d和-g的位置在某些情况下需要变换，此处并没有介绍）Sts功能较为单一，只是对随机数序列进行测试并评估其随机程度。但其步骤较为清晰且容易操作。简单来说，如果只是为了将加密后的数据包进行分析，无疑Sts是较为干脆的。这里不确定数据包加密算法是否可以在Dieharder上测试，因为不确定加密算法算不算是一个随机数发生器。如果是为了检测数据包是否被加密过，则Sts是一个好的选择。</p>

<h3>2.基本操作演示</h3>

<p>使用Sts的话，首先安装sts，然后在终端定位到其目录。输入：</p>

<blockquote><p>./assess number</p></blockquote>

<p>可以开始测试，此处number是单个流的大小。接着输入0选择输入文件，然后写入文件的目录加载文件，如（data/000）。在检测算法列表中选择相应算法，此处填1可以全选，0则选择某几个。某些算法会让使用者设置块大小，这个是在检测时会用到的参数，可以选择使用缺省值。然后输入你准备测试的流的数目，其大小在开始时就已设置，选中你所读入文件的储存格式，如AscII和二进制保存。然后在experience/Algorithm Testingz中的相应文件查看测试结果。
对于Dieharder，可以先输入</p>

<blockquote><p>dieharder -l</p></blockquote>

<p>出现基本功能列表（dieharder所有的检测算法），-d 15便是测试内置发生器。</p>

<p><img src="/Users/zhuozhongliu/JasonzhuoGithubIO/assets/images/2015-10-10.png" alt="dieharder -l" /></p>

<p>接着可以输入dieharder -g -1显示所有的发生器。</p>

<p><img src="/Users/zhuozhongliu/JasonzhuoGithubIO/assets/images/2015-10-10-2.png" alt="dieharder -g" />
假如准备对第41进行测试，则输入dieharder -d 15 -g 41 -t 1000000,其中-t是选择发生器所产生序列的大小。</p>

<p>Dieharder操作外部产生器产生的随机数流操作，在此详述：先载入到文件目录，对于文件分为AscII码和二进制存储分别对待。</p>

<blockquote><p>使用dieharder -g 201 -f 文件名 -a，然后会输出结果；</p></blockquote>

<p>对于AscII码文件，需输入</p>

<blockquote><p>dieharder -g 202 -f 文件名 -a</p></blockquote>

<p>同时，这个文件的头部应做适当修改，否则无法读取。（注：对于二进制文件测试命令 dieharder –g 201 –f 文件名 –a,此处的-a指的是将运行所有的算法来检测文件，如果希望指定某一种算法时，可以使用dieharder –g 201 –f 文件名 –d 数字，此方法对于AscII同样适用）</p>

<p>头部修改举例：</p>

<blockquote><p>generator mt19937_1999 seed = 1274511046</p>

<p>type: d</p>

<p>count: 100000</p>

<p>numbit: 32</p>

<p>3129711816</p>

<p>85411969</p>

<p>2545911541</p></blockquote>

<p><img src="/Users/zhuozhongliu/JasonzhuoGithubIO/assets/images/2015-10-10-3.png" alt="dieharder -g 201 -f BBS.dat –a" /></p>

<h3>两者对比</h3>

<table>
<thead>
<tr>
<th> Name        </th>
<th style="text-align:center;">针对目标          </th>
<th style="text-align:center;">得到结果 </th>
<th style="text-align:center;">文件大小 </th>
<th style="text-align:center;"> 操作步骤</th>
<th style="text-align:center;">是否友好</th>
<th style="text-align:center;"> 对数据随机性的严格程度</th>
</tr>
</thead>
<tbody>
<tr>
<td>STS     </td>
<td style="text-align:center;"> 待检测其随机性的序列     </td>
<td style="text-align:center;">   较为详细，有明确的中间过程量 </td>
<td style="text-align:center;">  在处理大容量文件时速度一般</td>
<td style="text-align:center;">步骤多但明确，且有详细注释</td>
<td style="text-align:center;">操作较为友好</td>
<td style="text-align:center;">较为严格</td>
</tr>
<tr>
<td> Dieharder</td>
<td style="text-align:center;"> 待验证其产生序列是否随机的随机数产生器</td>
<td style="text-align:center;">只有一个P-value结果，且没有中间过程量</td>
<td style="text-align:center;">面向文件容量较大，速度较为优秀</td>
<td style="text-align:center;"> 输入命令较为令人费解，且需要对各操作目录比较熟悉，虽然简洁但不简单</td>
<td style="text-align:center;">操作步骤比较不友好，需要对软件有一定程度的理解</td>
<td style="text-align:center;">比较宽松</td>
</tr>
</tbody>
</table>


<h3>后记操作过程sts要容易一些，该软件更方便新手操作。dieharder更为简洁，将所有操作凝练在一行，使用者要对该软件有一定程度的熟悉。如此一来，利用dieharder进行测试也是较为方便的，不过dieharder没有sts那样可以查找到中间量的数据，而且暂时还没有找到如何控制dieharder进行部分文件读入的操作。（补充：方法已找到，在后面直接接-t 数字即可，比如dieharder –g 201 –f BBS.dat –d 101 –t 10000.此处的意思是使用-g 201来读入BBS.dat文件，同时使用 -d 101来进行测试，其中只读取10000位）</h3>

<p>dieharder无疑是更强大的，暂时使用有些生涩，不过其内含算法要比sts多，如果希望向更深处探究无疑dieharder更好一些。
使用两种软件对BBS.dat中等长的部分文件进行测试，就P-value而言，sts得出的值要略小一些。dieharder并没有展示其计算逻辑，但是应该也是对随机数进行测试，不过应该会对结果进行分析得出针对发生器的P-value。其网站上并不认同单独拿出一段数据测试其随机性是很好的手段，其认为应该从发生器的角度去思考，同时它对发生器的态度比较宽容，在P-value比较小的时候（小于0.01只是视为weak，小于0.01%才会被拒绝）它也承认这个发生器是合理的，而且weak级别的发生器也可以产生正常的随机数。所以单独就数据随机性检测而言，个人认为sts要严格一些。</p>

<h4>Useful site :</h4>

<p><a href="https://www.phy.duke.edu/~rgb/General/dieharder.php">Dieharder home page</a></p>

<p><a href="https://www.random.org/">Random.org</a></p>


  <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
  <span>Posted by <a style="color:#9f9f9f;" href="http://http://weibo.com/zhongliuzhuo316"><strong>灵犀一点00</strong></a> - 2015-10-10</span><br>
  <span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://jason-zhuo.github.io/"><strong>Jasonzhuo's Blog</strong></a></span>
  </p>
</div>

<footer>

<!-- JiaThis Button BEGIN -->
<div class="jiathis_style_32x32">
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_renren"></a>
  <a href="http://www.jiathis.com/share?uid=1976264" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript">
var jiathis_config = {data_track_clickback:'true'};
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1976264" charset="utf-8"></script>
<!-- JiaThis Button END -->


</footer>
</div>
</article>

<section class="pageselect">
<br/>
<span class="pre-span">  
  <a  href="/pfring-and-jnetpcap/" class="pageNav" >上一篇&nbsp;-&nbsp;PF_ring and Jnetpcap  </a>
</span>
<span class="next-span">
  <a  href="/web-crawler-crawl4j/" class="pageNav"  >下一篇&nbsp;-&nbsp;Web Crawler Crawl4j </a>
</span>
<span class="mobile-pre-span">  
  <a  href="/pfring-and-jnetpcap/" class="pageNav" >上一篇 </a>
</span>
<span class="mobile-next-span">
  <a  href="/web-crawler-crawl4j/" class="pageNav"  >下一篇</a>
</span>
</section>




	
	<section id="comment">
  		<h1 class="title">评论(Comments)</h1>
		
	<div id="commentit"></div>
<script type="text/javascript">
  /** CONFIGURATION VARIABLES **/
  var commentitUsername = 'jason-zhuo';
  var commentitRepo = 'jason-zhuo/jason-zhuo.github.io';
  var commentitPath = '_posts/2015-10-10-dieharder-and-sts.md';

  /** DON'T EDIT FOLLOWING LINES **/
  (function() {
      var commentit = document.createElement('script');
      commentit.type = 'text/javascript';
      commentit.async = true;
      commentit.src = 'https://commentit.io/static/embed/dist/commentit.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(commentit);
  })();
</script>


  There are no comments on this post.


  
        
        </div>
    </div>

    </div>
  </body>
</html>
